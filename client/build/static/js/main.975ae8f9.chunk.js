(this["webpackJsonpreact-tile"]=this["webpackJsonpreact-tile"]||[]).push([[0],{26:function(e,t,n){e.exports=n(39)},31:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(17),i=n.n(l),r=(n(31),n(7)),o=n(5),s=n(12),u=n.n(s),m=n(18),d=n(10),p=n(19),f=n(20),h=n(24),E=n(21),v=n(25),b=Object(a.createContext)(),g=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={tileShowCount:8,loading:!0,tiles:[],handleDropDown:function(e){n.setState((function(t){return{tiles:t.tiles.map((function(t,a){return Object(d.a)({},t,{isActive:e===a&&!n.state.tiles[e].isActive})}))}}))},handleDropDownKeyPress:function(e,t){"Enter"===t.key&&n.setState((function(t){return{tiles:t.tiles.map((function(t,a){return Object(d.a)({},t,{isActive:e===a&&!n.state.tiles[e].isActive})}))}}))},fetchData:function(){var e=Object(m.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),loadTiles:function(e){n.state.fetchData("/data/tileInfo.json").then((function(t){n.setState((function(n){return{tiles:t.slice(0,e),loading:!1}}))})).catch((function(e){console.log(e)}))}},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.state.loadTiles(this.state.tileShowCount)}},{key:"render",value:function(){return c.a.createElement(b.Provider,{value:Object(d.a)({},this.state)},this.props.children)}}]),t}(a.Component),j=(n(33),function(e){var t=e.image,n=e.title,a=e.body,l=e.cta,i=(e.index,e.id);return c.a.createElement("div",{className:"tile__dropdown"},c.a.createElement("div",{className:"tile_dropdown-child tile_dropdown-child--image"},c.a.createElement("img",{src:t.src,alt:t.alt})),c.a.createElement("div",{className:"tile_dropdown-child tile_dropdown-child--text"},c.a.createElement("h3",null,n),c.a.createElement("p",null,a),l&&c.a.createElement(r.b,{to:"/"+i,className:"tile_dropdown-child--cta"},l.text)))}),O=function(e){var t=e.image,n=e.title,l=e.index,i=Object(a.useContext)(b),r=i.handleDropDownKeyPress,o=i.handleDropDown;return c.a.createElement("div",{className:"tile",style:{backgroundImage:"url(".concat(t.src,")")},tabIndex:"0",onKeyPress:function(e){r(l,e)},onClick:function(){o(l)}},c.a.createElement("div",{className:"tile__hover-overlay"},c.a.createElement("h3",null,n)),c.a.createElement("div",{className:"tile__arrow-down"}))},_=function(e){var t=e.item,n=e.index;return c.a.createElement("div",{className:"tile-section "+(t.isActive?"tile-section--active-tile":""),"aria-label":t.isActive?"".concat(t.title," is open"):"".concat(t.title," is closed"),"aria-live":"assertive"},c.a.createElement(O,{title:t.title,image:t.image,index:n}),c.a.createElement(j,{title:t.title,body:t.body,image:t.image,cta:t.cta,index:n,id:t.id}))},x=function(){var e=Object(a.useContext)(b).tiles.map((function(e,t){return c.a.createElement(_,{item:e,index:t,key:t})}));return c.a.createElement(a.Fragment,null,e)},w=n(9),N=function(){var e=Object(a.useContext)(b),t=e.loadTiles,n=e.tileShowCount,l=Object(a.useState)(n),i=Object(w.a)(l,2),r=i[0],o=i[1];return c.a.createElement("div",{className:"tile-load-more-container"},c.a.createElement("button",{className:"tile-load-more",onClick:function(){o((function(){return r+=8})),t(r)}},"LOAD MORE"))},y=function(){var e=Object(a.useContext)(b).tiles;return c.a.createElement("div",null,c.a.createElement("h1",null,"Total number of tiles: ",e.length))},k=function(){var e=Object(a.useContext)(b).loading;return c.a.createElement("div",{className:"component-container"},c.a.createElement(y,null),c.a.createElement("div",{className:"container tile-container"},e?c.a.createElement("h3",{className:"tile-container__loading"},"Loading..."):c.a.createElement(a.Fragment,null," ",c.a.createElement(x,null)," ",c.a.createElement(N,null)," ")))},C=function(e){var t=e.match.params.post_id,n=Object(a.useContext)(b).fetchData,l=Object(a.useState)([]),i=Object(w.a)(l,2),o=i[0],s=i[1],u=Object(a.useState)(!0),m=Object(w.a)(u,2),d=m[0],p=m[1];Object(a.useEffect)((function(){n("/data/tileInfo.json").then((function(e){var n=e.filter((function(e){return e.id===parseInt(t)}));s(n),p(!1)})).catch((function(e){p(!1),console.log(e)}))}),[n,t]);var f=o.length>0?o.map((function(e){return c.a.createElement("div",{className:"post"},e.title?c.a.createElement("h3",null,e.title):c.a.createElement("h3",null,"This post doesn't have a title"),e.body?c.a.createElement("p",null,e.body):c.a.createElement("p",null,"This post doesn't have text content"),e.image&&c.a.createElement("img",{src:e.image.src,alt:e.image.alt}),e.cta&&c.a.createElement("div",{className:"single-post__cta-container"},c.a.createElement("a",{href:e.cta.link,className:"single-post__cta"},"Book now")))})):c.a.createElement("div",{className:"err no-post"},c.a.createElement("p",null,'Looks like there is no post... "'.concat(t,'"')),c.a.createElement("div",{className:"single-post__cta-container"},c.a.createElement(r.b,{to:"/",className:"single-post__cta"},"Go back to homepage")));return c.a.createElement("div",{className:"single-post"},c.a.createElement("h1",null,"single post"),d?c.a.createElement("p",null,"...loading"):f)};var D=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,null,c.a.createElement(g,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:k}),c.a.createElement(o.a,{path:"/:post_id",component:C})))))};i.a.render(c.a.createElement(D,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.975ae8f9.chunk.js.map